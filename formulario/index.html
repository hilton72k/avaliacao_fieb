<!DOCTYPE html>
<html lang="pt-br">
<head>
  <title>Criação de Formulário | Tabela de Horários</title>
<!-- METAS -->
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  <meta name="robots" content="noindex, nofollow">
<!-- METAS -->
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.7.0/css/all.css">
  <!-- Bootstrap core CSS -->
  <link href="assets/css/bootstrap.min.css" rel="stylesheet">
  <link href="assets/css/style.css" rel="stylesheet">
  <!-- JQuery -->
  <script type="text/javascript" src="assets/js/jquery-3.3.1.min.js"></script>

</head>
<body class="fixed-sn mdb-skin">
  <main class="mb-4">
  <div class="container-fluid">  
  
      <form method="POST" action="#" id="FormValidate">
      <h3 class="card-title">Criação de Formulário</h3>
      <p class="slogan">Dados Pessoais</p>
      
      <div class="row">
        <div class="md-form mat-2 col-md-6 pl-0">
          <label for="nome">Nome Completo</label>
          <input type="text" id="nome" name="nome" class="form-control" value="">
        </div>
      </div>
      
      <div id="dados-op" style="display: block">  
        <div class="row">

          <div class="md-form mat-2 col-md-3 pl-0">
            <label for="cpf">CPF</label>
            <input type="text" id="cpf" name="cpf" class="form-control cpf" value="">
          </div>

          <div class="md-form mat-2 col-md-3 pl-0">
            <label for="email">Email</label>
            <input type="email" id="email" name="email" value="" class="form-control email">
          </div>

          <div class="md-form mat-2 col-md-3 pl-0">
            <label for="data_nascimento">Data de Nascimento</label>
            <input type="text" id="data_nascimento" name="data_nascimento" class="form-control data_nasc" value="">
          </div>

          <div class="md-form mat-2 col-md-3 pl-0">
            <label for="telefone">Tel/Celular</label>
            <input type="tel" id="telefone" name="telefone" class="form-control sp_celphones" value="">
          </div>

          <div class="md-form mat-2 col-md-3 pl-0">
            <label for="habilitacao">Habilitação</label> 
            <select name='habilitacao' class="col-md-12 form-control" id="habilitacao">
              <option value="">Selecione</option>
              <option value="S">Sim</option>
              <option value="N">Não</option>
            </select>
          </div>

          <div class="md-form mat-2 col-md-3 pl-0" id="display-cat" style="display: none;">
              <label for="categoria">Categoria</label>
              <input type="text" id="categoria" placeholder="EX: A e B" name="categoria" class="form-control" value="">
          </div>


        <div class="md-form mat-2 col-md-3 pl-0" >
        <p>Língua Estrangeira</p>    
        <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="ingles" value="1" id="ingles">
            <label class="form-check-label" for="ingles">
              Inglês
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="espanhol" value="1" id="espanhol">
            <label class="form-check-label" for="espanhol">
              Espanhol
            </label>
          </div>
          <div class="form-check form-check-inline">
            <input class="form-check-input" type="checkbox" name="frances" value="1" id="frances">
            <label class="form-check-label" for="frances">
              Francês
            </label>
          </div>
        </div>

        </div>
      </div>

      <hr />
      <p class="slogan">Endereço</p>

        <div class="row">
          <div class="md-form mat-2 col-md-4 pl-0">
              <label for="cep">CEP</label>
            <input type="tel" id="cep" name="cep" class="form-control cep" value="">
          </div>
        </div>

        <div class="carregando" style="display: none">
          <div class="row m-0">
          <div class="" style="float: left">
            <div class="spinner-border spinner-border-sm" role="status">
              <span class="sr-only">Loading...</span>
            </div>
          </div>
      <div class="ml-1">
          <p class="m-0">Carregando...</p>
          </div>
          </div>
        </div>

      <div id="dados-en" style="display: none">            
        <div class="row">
          <div class="md-form mat-2 col-md-4 pl-0">
              <label for="endereco">Endereço</label>
            <input type="text" id="endereco" name="endereco" class="form-control" placeholder="Digite seu endereço" value="">
          </div>
          
          <div class="md-form mat-2 col-md-2 pl-0">
              <label for="numero">Número</label>
            <input type="tel" id="numero" name="numero" class="form-control" value="">
          </div>

          <div class="md-form mat-2 col-md-3 pl-0">
              <label for="complemento">Complemento <small>(Opcional)</small></label>
            <input type="text" id="complemento" name="complemento" value="" class="form-control" placeholder="opcional">
          </div>
          
          <div class="md-form mat-2 col-md-3 pl-0">
              <label for="bairro">Bairro</label>
            <input type="text" id="bairro" name="bairro" class="form-control" placeholder="Digite seu bairro" value="">
          </div>          
          
          
        </div>
      </div>
      
      <div class="row">

        <div class="md-form mat-2 col-md-3 pl-0">
            <label for="estado">Estado</label>
            <select class="col-md-12 form-control" id="estado" name="estado">
                <option value="">Selecione o estado</option>
            </select>
        </div>

        <div class="md-form mat-2 col-md-3 pl-0">
            <label for="cidade">Cidade</label>
            <select class="col-md-12 form-control" id="cidade" name="cidade">
                <option value="" id="">Selecione a cidade</option>
            </select>    
          </div>
          
      </div>

      <hr />
      <p class="slogan">Informações Adicionais</p>


      <div class="row">
        <div class="md-form mat-2 col-md-3 pl-0">
            <label for="salario">Salário R$</label>
            <input type="tel" id="salario" name="salario" class="form-control money" value="">
        </div>

        <div class="md-form mat-2 col-md-3 pl-0">
            <label for="cargo">Cargo</label>
            <select class="col-md-12 form-control" id="cargo" name="cargo">
                <option value="">Selecione o cargo</option>
                <option value="1">Analista de Sistema I</option>
                <option value="2">Analista de Sistema II</option>
                <option value="3">Desenvolvedor Mobile</option>
                <option value="4">Desenvolvedor Web</option>
                <option value="5">Gerente de Projetos</option>
            </select>    
          </div>          
      </div>

      <hr />
      <p class="slogan">Horário de Trabalho</p>
      
      <div class="row">
        <table class="table table-bordered text-center">
          <thead>
          <tr>
            <th>Dia da semana</th>
            <th>Hora Início</th>
            <th>Hora Fim</th>
            <th>Tempo Descanso(h)</th>
            <th>Carga Horária(h)</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td>Segunda</td>
            <td><input type="text" placeholder="HH:MM" id="hr_inicio1" name="hr_inicio1" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="HH:MM" id="hr_fim1" name="hr_fim1" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="h" maxlength="1" id="hr_descanso1" name="hr_descanso1" class="form-control number hr col-md-4 offset-md-4"></td>
            <td id="carga_hr1">0</td>
            <input type="hidden" value="0" id="hr_total1">
          </tr>

          <tr>
            <td>Terça</td>
            <td><input type="text" placeholder="HH:MM" id="hr_inicio2" name="hr_inicio2" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="HH:MM" id="hr_fim2" name="hr_fim2" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="h" maxlength="1" id="hr_descanso2" name="hr_descanso2" class="form-control number hr col-md-4 offset-md-4"></td>
            <td id="carga_hr2">0</td>
            <input type="hidden" value="0" id="hr_total2">
          </tr>

          <tr>
            <td>Quarta</td>
            <td><input type="text" placeholder="HH:MM" id="hr_inicio3" name="hr_inicio3" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="HH:MM" id="hr_fim3" name="hr_fim3" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="h" maxlength="1" id="hr_descanso3" name="hr_descanso3" class="form-control number hr col-md-4 offset-md-4"></td>
            <td id="carga_hr3">0</td>
            <input type="hidden" value="0" id="hr_total3">
          </tr>

          <tr>
            <td>Quinta</td>
            <td><input type="text" placeholder="HH:MM" id="hr_inicio4" name="hr_inicio4" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="HH:MM" id="hr_fim4" name="hr_fim4" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="h" maxlength="1" id="hr_descanso4" name="hr_descanso4" class="form-control number hr col-md-4 offset-md-4"></td>
            <td id="carga_hr4">0</td>
            <input type="hidden" value="0" id="hr_total4">
          </tr>

          <tr>
            <td>Sexta</td>
            <td><input type="text" placeholder="HH:MM" id="hr_inicio5" name="hr_inicio5" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="HH:MM" id="hr_fim5" name="hr_fim5" class="form-control time hr col-md-4 offset-md-4"></td>
            <td><input type="text" placeholder="h" maxlength="1" id="hr_descanso5" name="hr_descanso5" class="form-control number hr col-md-4 offset-md-4"></td>
            <td id="carga_hr5">0</td>
            <input type="hidden" value="0" id="hr_total5">
          </tr>

        </thead>
        </tbody>
        <tfoot>
            <tr>
              <th colspan="4">Carga Horária Semanal</th>
              <td id="carga_total">0</td>
            </tr>
        </tfoot>
        </table>        
      </div>

      <div class="card-foter">
      <button type="submit" class="btn btn-outline-primary">Cadastrar</button>
      </div>
      </form>

</main>

<!-- SCRIPTS -->
<script src="assets/js/bootstrap.bundle.min.js"></script>
<script src="assets/js/jquery.mask.min.js"></script>
<script src="assets/js/masks.js"></script>
<script src="assets/js/consulta.ajax.js"></script>
<script src="assets/js/jquery.validate.min.js"></script>
<script src="assets/js/validate.costumer.js"></script>
<script src="assets/js/moment.js"></script>
<script src="assets/js/utility.js"></script>

</body>
</html>

<script type="text/javascript">
  $(document).ready(function ($) {     
      
      $("#habilitacao").change( function({target}){
          console.log(target.value);
          let valor = target.value;
              if(valor){
                 if(valor == 'S'){
                      $("#display-cat").css('display', 'block');
                  } else {
                      $("#display-cat").css('display', 'none');
                  }
              } else { $("#display-cat").css('display', 'none'); }
      });
      
      $('.hr').keyup(function({target}){

        var id = target.id.replace(/[^0-9]/g, '');

        for (var i = 1; i < 6; i++) {
          let hr_inicio = $('#hr_inicio'+i).val();
          let hr_fim = $('#hr_fim'+i).val();
          let hr_descanso = $('#hr_descanso'+i).val();
          let carga_diaria = 0;

          if(id == i){
            if((!empty(hr_inicio) && hr_inicio.length == 5) && (!empty(hr_fim) && hr_fim.length == 5) && hr_descanso != ''){
              $('#carga_hr'+i).html(diferencaHoras(hr_inicio, hr_fim, hr_descanso));
              $('#hr_total'+i).val(diferencaHoras(hr_inicio, hr_fim, hr_descanso));
              carga_diaria = diferencaHoras(hr_inicio, hr_fim, hr_descanso);
              if(carga_diaria>10){
                alert('Atenção, sua carga horária diária está acima de 10 horas.');
              }
              cargaHorariaSemanal();
            }
          }

        }
      });
  });
</script>